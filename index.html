<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>SpaDu | Space Education</title>
<style>
body { margin:0; overflow:hidden; font-family:monospace; color:white; background:black; }
#bgImage { position:fixed; top:0; left:0; width:110%; height:110%; object-fit:cover; z-index:0; transition: transform 0.1s ease, filter 0.5s ease; pointer-events:none; filter: brightness(1); }
canvas#starfield { position:fixed; top:0; left:0; z-index:1; pointer-events:none; }
#loadingScreen,#introScreen,#fadeOverlay { position:fixed; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; transition:opacity 1.2s ease; }
#loadingScreen { background:black; z-index:9999; pointer-events:auto; }
#loadingScreen.hide { opacity:0; pointer-events:none; }
#introScreen { opacity:0; z-index:9998; pointer-events:none; flex-direction:column; gap:10px; }
#introScreen.show { opacity:1; pointer-events:auto; }
button { 
  margin-top:5px; padding:14px 30px; border:1px solid cyan; color:cyan; letter-spacing:3px; 
  cursor:pointer; transition:0.3s; font-size:16px; text-shadow:0 0 5px #0ff,0 0 10px #0ff; 
  background:transparent; border-radius:6px; z-index:10;
}
button:hover { background:cyan; color:black; box-shadow:0 0 20px cyan,0 0 40px cyan; }
#fadeOverlay { opacity:0; pointer-events:none; background:black; z-index:10000; }
#fadeOverlay.show { opacity:1; pointer-events:auto; }
#introScreen h1,#introScreen p { color:#0ff; text-shadow:0 0 5px #0ff,0 0 10px #0ff,0 0 20px #0ff; animation:flicker 1.5s infinite; text-align:center; margin:0; }
@keyframes flicker { 0%,19%,21%,23%,25%,54%,56%,100% { opacity:1; } 20%,22%,24%,55% { opacity:0.4; } }
</style>
</head>
<body>

<img id="bgImage" src="bg.jpg" alt="Deep Space Background">
<canvas id="starfield"></canvas>

<div id="loadingScreen"><h1>Loading Space Education...</h1></div>

<div id="introScreen">
  <h1>SpaDu | Space Education</h1>
  <p>Website Interaktif Edukasi Astronomi Indonesia</p>
  <button id="playAmbienceBtn">Play Ambience</button>
  <button id="cinematicBtn">Cinematic Mode</button>
  <button id="eduBtn">Educational Mode</button>
  <button id="startBtn">START</button>
</div>

<div id="fadeOverlay"></div>

<!-- AUDIO AMBIENCE -->
<audio id="bgMusic" src="musik.mp3" loop autoplay muted></audio>

<script>
// ELEMENTS
const loading = document.getElementById("loadingScreen");
const intro = document.getElementById("introScreen");
const startBtn = document.getElementById("startBtn");
const playAmbienceBtn = document.getElementById("playAmbienceBtn");
const cinematicBtn = document.getElementById("cinematicBtn");
const eduBtn = document.getElementById("eduBtn");
const fade = document.getElementById("fadeOverlay");
const bg = document.getElementById("bgImage");
const bgMusic = document.getElementById("bgMusic");

// LOADING → INTRO
setTimeout(() => { 
  loading.classList.add("hide"); 
  setTimeout(() => intro.classList.add("show"), 1200); 
}, 2500);

// PLAY AMBIENCE
playAmbienceBtn.addEventListener("click", () => {
  bgMusic.muted = false;
  bgMusic.play().catch(e=>console.log(e));
  playAmbienceBtn.style.display="none";
});

// CINEMATIC MODE
cinematicBtn.addEventListener("click", () => {
  bg.style.filter = "brightness(0.5)";
  for(let star of stars) star.radius *= 1.5; // bintang lebih dramatis
  cinematicBtn.style.display="none";
});

// EDUCATIONAL MODE
eduBtn.addEventListener("click", () => {
  fade.classList.add("show");
  setTimeout(() => {
    window.location.href = "educational.html"; // ganti dengan link halaman edukasi
  }, 1000);
});

// START → FADE → SIMULATION
startBtn.addEventListener("click", () => {
  fade.classList.add("show");
  setTimeout(() => window.location.href="sim.html",1300);
});

// STARFIELD
const canvas=document.getElementById("starfield");
const ctx=canvas.getContext("2d");
let width=canvas.width=window.innerWidth;
let height=canvas.height=window.innerHeight;
const starCount=300;
const stars=[];
for(let i=0;i<starCount;i++){ 
  stars.push({x:Math.random()*width,y:Math.random()*height,radius:Math.random()*1.5,alpha:Math.random()}); 
}
function drawStars(){ 
  ctx.clearRect(0,0,width,height); 
  for(let star of stars){ 
    ctx.beginPath(); 
    ctx.arc(star.x,star.y,star.radius,0,Math.PI*2); 
    ctx.fillStyle=`rgba(255,255,255,${star.alpha})`; 
    ctx.fill(); 
    star.alpha += (Math.random()-0.5)*0.05; // twinkle
    if(star.alpha>1) star.alpha=1;
    if(star.alpha<0) star.alpha=0;
  } 
  requestAnimationFrame(drawStars); 
}
drawStars();
window.addEventListener("resize",()=>{ width=canvas.width=window.innerWidth; height=canvas.height=window.innerHeight; });

// PARALLAX / 3D
document.addEventListener("mousemove", e => {
  const moveX=(e.clientX-window.innerWidth/2)/100;
  const moveY=(e.clientY-window.innerHeight/2)/100;
  bg.style.transform=`translate(${moveX}px, ${moveY}px) scale(1.1)`;
});
</script>

</body>
</html>
